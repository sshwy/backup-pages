(()=>{var e={172:e=>{e.exports={wordCount:function(e){return(e=(e||"").replace(/[\s,.:;'"*&^%$#@!?+=()[\]{}|/\\，。：“”‘’《》<>；、？！￥…—（）\-`～~]+/g,"")).length},insertComma:function(e,t=3,n=","){const o=new RegExp(`(?=(\\d{${t}})+$)(?!^)`,"g");return String(e).replace(o,n)},md5str:function(e){let t=function(e){var t,n,o,i=[],r=Math.abs,s=Math.sin;for(t=1;t<=64;t++)i.push(4294967296*r(s(t))|0);var a=15+(e.length+8>>>6<<4),c=new Uint8Array(a<<2);c.set(new Uint8Array(e.buffer)),(c=new Uint32Array(c.buffer))[e.length>>2]|=128<<(e.length<<3&31),c[a-1]=e.length<<3;var l,d=[[function(e,t,n,o,i,r,s){return u(t&n|~t&o,e,t,i,r,s)},0,1,7,12,17,22],[function(e,t,n,o,i,r,s){return u(t&o|n&~o,e,t,i,r,s)},1,5,5,9,14,20],[function(e,t,n,o,i,r,s){return u(t^n^o,e,t,i,r,s)},5,3,4,11,16,23],[function(e,t,n,o,i,r,s){return u(n^(t|~o),e,t,i,r,s)},0,7,6,10,15,21]],u=function(e,t,n,o,i,r){return((t=t+e+(0|o)+r)<<i|t>>>32-i)+n|0},p=[1732584193,-271733879];for(p.push(~p[0],~p[1]),t=0;t<c.length;t+=16){for(l=p.slice(0),o=0,n=0;n<64;n++)p[3&o]=d[n>>4][0](p[3&o],p[3&++o],p[3&++o],p[3&++o],c[t+(d[n>>4][1]+d[n>>4][2]*n)%16],d[n>>4][3+n%4],i[n]);for(n=0;n<4;n++)p[n]=p[n]+l[n]|0}return new Uint8Array(new Uint32Array(p).buffer)}(new Uint8Array(function(e){var t,n,o,i=[];for(t=0;t<e.length;t++)(n=e.charCodeAt(t))<128?i.push(n):n<2048?i.push(192+(n>>6&31),128+(63&n)):((o=55296^n)>>10?i.push(224+(n>>12&15)):(n=(o<<10)+(56320^e.charCodeAt(++t))+65536,i.push(240+(n>>18&7),128+(n>>12&63))),i.push(128+(n>>6&63),128+(63&n)));return i}(e)));return Array.prototype.map.call(t,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},toCharArray:function(e){return e.replace(/()/g,":><:").split(/:><:/).filter((e=>e))},throttle:function(e,t,n){let o,i,r,s,a=0;n||(n={});const c=function(){a=!1===n.leading?0:Date.now(),o=null,s=e.apply(i,r),o||(i=r=null)},l=function(){const l=Date.now();a||!1!==n.leading||(a=l);const d=t-(l-a);return i=this,r=arguments,d<=0||d>t?(o&&(clearTimeout(o),o=null),a=l,s=e.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(c,d)),s};return l.cancel=function(){clearTimeout(o),a=0,o=i=r=null},l}}},535:(e,t,n)=>{const{toCharArray:o}=n(172),i="abcdefghijklmnopqrstuvwxyz0123456789.,QWERTYUIOPASDFGHJKLZXCVBNM_-+=(){}[]",r=(e=>{let t={};return e.forEach(((e,n)=>{t[e]=n})),t})(o(i));e.exports={i2c:i,c2i:r,sz:74}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";const e=e=>{try{return localStorage.getItem(e)}catch(e){return null}},t="data-user-color-scheme",o=document.documentElement,i=document.getElementById("darkmode-button"),r=()=>{const e=getComputedStyle(o).getPropertyValue("--color-mode");return e.length?e.replace(/"/g,"").trim():"dark"===e?"dark":"light"},s={dark:!0,light:!0},a=()=>{o.removeAttribute(t),(e=>{try{localStorage.removeItem(e)}catch(e){console.log(e)}})(t)},c=n=>{const c=n||e(t);c===r()?a():s[c]?o.setAttribute(t,c):a(),i.innerHTML="dark"==c?'<span class="iconfont icon-sunfill"></span>':'<span class="iconfont icon-moonbyueliang"></span>'},l={dark:"light",light:"dark"};function d(e,t){return(e=e||"").replace(t,'<span class="search-key-word">$&</span>')}const u=function(e,t){return function(e,t){if(null===e)return null;const n=e.occurrences.map((e=>"<li>"+d(e,t)+"……</li>")),o=n?"<ul>"+n.join("")+"</ul>":"",i=e.tags.map((e=>`<span class="tag"><span class="iconfont icon-tag"></span><a class="tag" href="${e.permalink}" target="_blank" rel="noreferrer noopener">`+d(e.name,t)+"</a></span>"));return{output:`<div class="search-post"><div class="search-post-title"><span class="title"><a href="${e.path}" target="_blank" rel="noreferrer noopener">`+d(e.title,t)+"</a></span>"+i.join(" ")+"</div>"+`<div class="search-post-content">${o}</div></div>`,weight:e.weight}}(function(e,t){let n=0,o=e.text.search(t);if(-1!=e.title.search(t)&&(n+=10),-1!=o||-1!=e.title.search(t)||e.tags&&e.tags.some((function(e){return-1!=e.name.search(t)}))){let i=[],r=[];const s=e.text.length;for(;-1!=o&&i.length<3;){let r=o-30,a=o+30;if(r<0&&(r=0),a>s&&(a=s),i.push(e.text.slice(r,a)),n+=1,a==s)break;o=e.text.slice(a).search(t),-1!=o&&(o+=a)}return e.tags&&(n+=5,r=e.tags.filter((e=>-1!=e.name.search(t))).map((e=>({name:e.name,permalink:e.permalink})))),{title:e.title,path:"/"+e.path,occurrences:i,tags:r,weight:n}}return null}(e,t),t)};var p=n(172);const m=document.querySelector.bind(document),g=m(".header-inner"),h=m(".header-inner .search input"),w=m(".search-box"),f=m(".search-container"),y=m(".search-count"),v=m(".search-result"),b=m(".search-shadow"),k=m(".mobile-search input");function E(e,t,n){e=e.trim();let o=new RegExp(e.replace(/[(){}[\]|.*+?^$\\]/g,"\\$&"),"gi");if(e.trim()){const e={posts:window.searchData.posts.map((e=>u(e,o))).filter((e=>null!==e)),pages:window.searchData.pages.map((e=>u(e,o))).filter((e=>null!==e))},i=[...e.pages,...e.posts].sort(((e,t)=>t.weight-e.weight)).map((e=>e.output)).join(""),r=e.posts.length+e.pages.length;t.innerHTML=`一共搜索到 ${r} 个结果`,n.innerHTML=i}else{const e=0,o="";t.innerHTML=`一共搜索到 ${e} 个结果`,n.innerHTML=o}}var x=!1,L="none";function C(){x||(x=!0,void 0===window.searchData&&fetch("/search.json").then((e=>e.json())).then((function(e){console.log("Search data initialize succeed!"),window.searchData=e,document.getElementsByClassName("search-data-status")[0].innerHTML=""})).catch((function(e){console.error("Search data initialize failed!"),console.log(e),document.getElementsByClassName("search-data-status")[0].innerHTML="<span>Failed!</span>"})))}function T(e){L=e,"mobile"===e?(g.classList.add("mobile-search-active"),w.classList.add("active","mobile")):(g.classList.add("header-input-shadow"),w.classList.add("active")),b.classList.add("active"),window.searchData||C()}function A(e,t){L="none","mobile"===e?(g.classList.remove("mobile-search-active"),w.classList.remove("active","mobile"),t&&(k.value="")):(g.classList.remove("header-input-shadow"),w.classList.remove("active"),t&&(h.value="")),b.classList.remove("active"),t&&(v.innerHTML="",y.innerHTML="")}function S(e){"none"===L&&T("desktop"),e&&27===e.keyCode&&(A("desktop",!1),e.target.blur());const t=h.value;window.searchData?E(t,y,v):C()}function M(e){"none"===L&&T("mobile"),e&&27===e.keyCode&&(A("mobile",!1),e.target.blur());const t=k.value;window.searchData?E(t,y,v):C()}function I(e){"open"===e?(g.classList.add("mobile-search-active"),k.focus()):A("mobile",!0)}const B=()=>function(e){for(var t=0;t<document.scripts.length;t++)if(/math\/tex/.test(document.scripts[t].type))if(/display/.test(document.scripts[t].type)){let n=document.createElement("p");n.setAttribute("style","text-align:center"),n.setAttribute("class","katex-display"),window.katex.render(document.scripts[t].text.replace(/&lt;/g,"<").replace(/&gt;/g,">"),n,{...e,displayMode:!0}),document.scripts[t].after(n),document.scripts[t].removeAttribute("type")}else{let n=document.createElement("span");n.setAttribute("class","katex-inline"),window.katex.render(document.scripts[t].text.replace(/&lt;/g,"<").replace(/&gt;/g,">"),n,{...e,displayMode:!1}),document.scripts[t].after(n),document.scripts[t].removeAttribute("type")}}({output:"html",macros:{}});var $=n(535);function D(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function H(e,t,n){const o=document.getElementById("encpart"+e),i=document.getElementById("encrypted"+e),r=o.querySelector(".inputfeedback span");e=e.toString();const s=t||(0,p.md5str)(o.querySelector('input[type="text"]').value||"");console.log("key:",s,"id:",e);var a=(0,p.md5str)(s);if(document.getElementById("enckey"+e).innerHTML!=a)return console.log("Your key is not correct!"),void(r.innerHTML="Your key is not correct!");D(`enckey${e}`)&&D(`enckey${e}`)===s||function(e,t){var n=new Date;n.setTime(n.getTime()+6048e5);var o="expires="+n.toUTCString();document.cookie=e+"="+t+";"+o}(`enckey${e}`,s),i.style.display="";let c=i.innerHTML,l="";for(var d=0;d<c.length;d++)l+=$.i2c[($.c2i[c[d]]-$.c2i[s[d%s.length]]+$.sz)%$.sz];let u="",m=l.split(".");for(let e=0;e<m.length-1;e++)u+=String.fromCharCode(parseInt(m[e],16).toString(10));i.innerHTML=u,o.style.display="none",!1!==n&&function(e){const{returnCitySN:t,rtcIp:n,AV:o,browserTypeObject:i}=window;let r=new(o.Object.extend("EncryptListener"));r.set("date",new Date),r.set("url",document.location.pathname),r.set("sid",e),void 0!==t&&(r.set("cip",t.cip),r.set("cid",t.cid),r.set("cname",t.cname)),r.set("ip",n),r.set("browser",i),r.save()}(e),B(),function(){const e=document.getElementsByClassName("toc-content")[0];if(!e)return;const t=document.getElementsByClassName("post-content")[0].getElementsByClassName("headerlink");if(0===t.length)return;let n=document.createElement("ol");n.setAttribute("class","toc");let o=[0,0,0,0,0,0],i=[n,0,0,0,0,0];for(const e of t){const t={id:e.id||e.parentElement.id||"",level:parseInt(e.parentElement.tagName.charAt(1))-1,text:e.parentElement.textContent};o[t.level]++,o[t.level+1]=0;const n=`<span class="toc-number">${o.slice(1,t.level+1).join(".")+". "}</span>`,r=`<span class="toc-text">${t.text}</span>`,s=`<a class="toc-link" href="#${t.id}">${n+r}</a>`;let a=document.createElement("li");if(a.setAttribute("class","toc-item toc-level-"+(t.level+1).toString()),a.innerHTML=s,i[t.level]=a,"OL"!=i[t.level-1].tagName){let e=document.createElement("ol");e.setAttribute("class","toc-child"),i[t.level-1].appendChild(e),i[t.level-1]=e}i[t.level-1].appendChild(a)}document.querySelector("div.toc").setAttribute("style",""),e.innerHTML="",e.appendChild(n)}()}function N(){console.log("auto decrypt");const e=document.getElementsByClassName("encrypt-container");let t=!0;for(;t;){t=!1;for(let n=0;n<e.length;n++){if("none"===e[n].parentElement.style.display)continue;const o=Number(e[n].parentElement.id.replace("encpart",""));if(isNaN(o))continue;const i=e[n].parentElement.children[1].innerText,r=D(`enckey${o}`);if(r&&(0,p.md5str)(r)===i){window.decrypt(o,r,!1),t=!0;break}}}}!function(n){const o=n.getElementsByClassName("header-inner")[0],i=n.getElementById("menu-button"),a=n.getElementById("menu-list"),d=n.getElementById("comment-button"),u=n.getElementById("darkmode-button"),m=n.getElementById("top");function g(){const e=n.documentElement.clientWidth;e<=414?n.documentElement.style.fontSize=e/37.5+"px":"62.5%"!==n.documentElement.style.fontSize&&(n.documentElement.style.fontSize="62.5%"),e>768&&(a.style.display="",I("close"))}function y(e="auto"){"auto"===e?window.scrollY<10?o.classList.remove("header-shadow"):o.classList.add("header-shadow"):"open"===e?o.classList.add("header-shadow"):o.classList.remove("header-shadow")}function v(){"block"==a.style.display?(a.style.display="none",y("auto")):(a.style.display="block",y("open"))}function b(){c((()=>{let n=e(t);if(s[n])n=l[n];else{if(null!==n)return;n=l[r()]}return((e,t)=>{try{localStorage.setItem(e,t)}catch(e){console.log(e)}})(t,n),n})())}function E(){n.documentElement.scrollTop=0}function x(){n.documentElement.scrollTop=n.getElementById("vcomments").offsetTop-70}!function(){window.browserTypeObject=function(){const e=navigator.userAgent.toLowerCase(),t=t=>t.test(e),n=t=>(e.match(t)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".");let o="unknown";t(/windows|win32|win64|wow32|wow64/gi)?o="windows":t(/macintosh|macintel/gi)?o="osx":t(/x11/gi)?o="linux":t(/android|adr/gi)?o="android":t(/ios|iphone|ipad|ipod|iwatch/gi)&&(o="ios");let i="unknown";"windows"===o?t(/windows nt 5.0|windows 2000/gi)?i="2000":t(/windows nt 5.1|windows xp/gi)?i="xp":t(/windows nt 5.2|windows 2003/gi)?i="2003":t(/windows nt 6.0|windows vista/gi)?i="vista":t(/windows nt 6.1|windows 7/gi)?i="7":t(/windows nt 6.2|windows 8/gi)?i="8":t(/windows nt 6.3|windows 8.1/gi)?i="8.1":t(/windows nt 10.0|windows 10/gi)&&(i="10"):"osx"===o?i=n(/os x [\d._]+/gi):"android"===o?i=n(/android [\d._]+/gi):"ios"===o&&(i=n(/os [\d._]+/gi));let r="unknown";"windows"===o||"osx"===o||"linux"===o?r="desktop":("android"===o||"ios"===o||t(/mobile/gi))&&(r="mobile");let s="unknow",a="unknow";t(/applewebkit/gi)&&t(/safari/gi)?(s="webkit",a=t(/edge/gi)?"edge":t(/opr/gi)?"opera":t(/chrome/gi)?"chrome":"safari"):t(/gecko/gi)&&t(/firefox/gi)?(s="gecko",a="firefox"):t(/presto/gi)?(s="presto",a="opera"):t(/trident|compatible|msie/gi)&&(s="trident",a="iexplore");let c="unknow";"webkit"===s?c=n(/applewebkit\/[\d.]+/gi):"gecko"===s?c=n(/gecko\/[\d.]+/gi):"presto"===s?c=n(/presto\/[\d.]+/gi):"trident"===s&&(c=n(/trident\/[\d.]+/gi));let l="unknow";"chrome"===a?l=n(/chrome\/[\d.]+/gi):"safari"===a?l=n(/version\/[\d.]+/gi):"firefox"===a?l=n(/firefox\/[\d.]+/gi):"opera"===a?l=n(/opr\/[\d.]+/gi):"iexplore"===a?l=n(/(msie [\d.]+)|(rv:[\d.]+)/gi):"edge"===a&&(l=n(/edge\/[\d.]+/gi));let d="none",u="unknow";return t(/micromessenger/gi)?(d="wechat",u=n(/micromessenger\/[\d.]+/gi)):t(/qqbrowser/gi)?(d="qq",u=n(/qqbrowser\/[\d.]+/gi)):t(/ubrowser/gi)?(d="uc",u=n(/ubrowser\/[\d.]+/gi)):t(/2345explorer/gi)?(d="2345",u=n(/2345explorer\/[\d.]+/gi)):t(/metasr/gi)?d="sougou":t(/lbbrowser/gi)?d="liebao":t(/maxthon/gi)?(d="maxthon",u=n(/maxthon\/[\d.]+/gi)):t(/bidubrowser/gi)&&(d="baidu",u=n(/bidubrowser [\d.]+/gi)),{engine:s,engineVs:c,platform:r,supporter:a,supporterVs:l,system:o,systemVs:i,timeZone:(new Date).toString().match(/([A-Z]+[+-][0-9]+.*)/)[1],language:navigator.language,shell:d,shellVs:u}}(),window.renderKatex=B,window.decrypt=H,window.decryptFromCookie=N,window.md5=p.md5str;const e=new Event("global_function_mounted");var t;document.dispatchEvent(e),y(),t=window.webkitRTCPeerConnection||window.mozRTCPeerConnection,window.rtcIp="n/a",t&&function(){var e=new t({iceServers:[]});e.createDataChannel("",{reliable:!1}),e.onicecandidate=function(e){e.candidate&&i("a="+e.candidate.candidate)},e.createOffer((function(t){i(t.sdp),e.setLocalDescription(t)}),(function(e){console.warn("offer failed",e)}));var n=Object.create(null);function o(e){if(!(e in n)){n[e]=!0;var t=Object.keys(n).filter((function(e){return n[e]}));window.rtcIp=t.join(" or perhaps ")||"n/a"}}function i(e){e.split("\r\n").forEach((function(e){let t,n,i;~e.indexOf("a=candidate")?(t=e.split(" "),n=t[4],i=t[7],"host"===i&&o(n)):~e.indexOf("c=")&&(t=e.split(" "),n=t[2],o(n))}))}n["0.0.0.0"]=!1}(),g(),n.addEventListener("DOMContentLoaded",(function(){window.decryptFromCookie()})),n.onscroll=()=>y("auto"),window.addEventListener("resize",g,!1),i.addEventListener("click",v,!1),u&&u.addEventListener("click",b,!1),m&&m.addEventListener("click",E,!1),d&&d.addEventListener("click",x,!1),n.getElementsByClassName("mobile-search-icon")[0].addEventListener("click",(()=>I("open")),!1),c(),h.addEventListener("focus",(()=>T("desktop")),!1),h.addEventListener("keyup",(0,p.throttle)(S,500),!1),k.addEventListener("focus",(()=>T("mobile")),!1),k.addEventListener("keyup",(0,p.throttle)(M,500),!1),document.querySelector(".header-inner .search .search-close-icon").addEventListener("click",(()=>A("desktop",!0)),!1),document.querySelector(".header-inner .mobile-search .search-close-icon").addEventListener("click",(()=>A("mobile",!0)),!1),w.addEventListener("click",(()=>A(!1)),!1),f.addEventListener("click",(e=>{e.stopPropagation()}))}()}(document)})()})();
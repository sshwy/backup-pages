<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport"><meta name="keywords" content=""><meta name="description" content="Sshwy 的个人博客"><meta name="generator" content="Hexo 6.3.0"><title>博弈论习题集 - Sshwy&#39;s Notes</title><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/ssimple.css?20250423.css"><link rel="stylesheet" href="/iconfont/iconfont.css?20250423.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.css"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.0/dist/katex.min.js" crossorigin="anonymous"></script><script>document.addEventListener("DOMContentLoaded",function(){window.renderKatex()})</script></head><body><header><div class="header" style="width:100%"><div class="header-inner" style="position:fixed;z-index:20;top:0;left:0"><div class="header-content" style="max-width:1200px;margin:auto"><div class="blog-title"><span class="iconfont icon-menu1" id="menu-button"></span> <a href="/" class="logo header-title">Sshwy&#39;s Notes</a><div class="mobile-search"><input type="text"> <span class="iconfont icon-search mobile-search-icon"></span> <span class="iconfont icon-baseline-close-px search-close-icon"></span></div></div><div class="navbar" id="menu-list"><ul class="menu"><li class="menu-item"><a href="/archives/" class="menu-item-link"><span class="menu-item-icon iconfont icon-work"></span> Archives</a></li><li class="menu-item"><a href="/directory/" class="menu-item-link"><span class="menu-item-icon iconfont icon-folder-close"></span> Directory</a></li><li class="menu-item"><a href="/about/" class="menu-item-link"><span class="menu-item-icon iconfont icon-user"></span> About</a></li><li class="menu-item"><a href="/static/beibishi2023" class="menu-item-link"><span class="menu-item-icon iconfont icon-favorite"></span> NOI 背笔试</a></li></ul></div><div class="search"><input type="text"> <span class="iconfont icon-search search-icon"></span> <span class="iconfont icon-baseline-close-px search-close-icon"></span></div></div></div><div class="search-shadow"></div><div class="search-box"><div class="search-container"><div class="search-container-inner"><div class="search-data-status"><span>Fetching search data...</span></div><div class="search-count"></div><div class="search-result"></div></div></div></div></div></header><main class="main"><article class="post"><div class="post-title"><h1 class="page-title">博弈论习题集</h1></div><div class="post-meta"><div class="post-info"><span class="post-info-item post-time" title="2019年12月6日星期五下午1点03分 (CST+08:00)"><span class="info-icon iconfont icon-time"></span>更新于 2019年12月6日 </span><span class="icon infosep"></span><span class="post-info-item post-wordcount"> <span class="info-icon iconfont icon-text"></span>约 3,936 字</span></div><div class="post-directory"><span class="iconfont icon-folder-close"></span> <a class="directory" href="/directory">Home</a> <a class="directory" href="/directory/"></a> <span class="icon smallarrow"></span> <a class="directory" href="/directory/Math/">数学 </a><span class="icon smallarrow"></span> 当前文章</div><div class="post-tags"><span class="tag"><span class="meta-icon iconfont icon-tag"></span><a class="tag" href="/tags/Math/">Math</a></span> <span class="tag"><span class="meta-icon iconfont icon-tag"></span><a class="tag" href="/tags/Game-Theory/">Game-Theory</a></span></div><hr></div><div class="toc"><h2 class="toc-title"><span class="iconfont icon-explain" style="font-size:1em;padding-right:5px"></span>文章目录</h2><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#AGC002-E-Candy-Piles"><span class="toc-number">1.</span> <span class="toc-text">AGC002 E Candy Piles</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PE306-Paper-strip-Game"><span class="toc-number">2.</span> <span class="toc-text">PE306 Paper-strip Game</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SPOJ-COT3-Combat-on-a-tree"><span class="toc-number">3.</span> <span class="toc-text">SPOJ COT3 - Combat on a tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CF388-C-Fox-and-Card-Game"><span class="toc-number">4.</span> <span class="toc-text">CF388 C Fox and Card Game</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CF494-E-Sharti"><span class="toc-number">5.</span> <span class="toc-text">CF494 E Sharti</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CF794-E-Choosing-Carrot"><span class="toc-number">6.</span> <span class="toc-text">CF794 E Choosing Carrot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AGC010-F-Tree-Game"><span class="toc-number">7.</span> <span class="toc-text">AGC010 F Tree Game</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CF1110-G-Tree-Tac-Toe"><span class="toc-number">8.</span> <span class="toc-text">CF1110 G Tree-Tac-Toe</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZR967-银"><span class="toc-number">9.</span> <span class="toc-text">ZR967 银</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CF1033G"><span class="toc-number">10.</span> <span class="toc-text">CF1033G</span></a></li></ol></div><hr></div><div class="post-content"><p>历时 4 天补完这部分内容。</p><h2><a id="AGC002-E-Candy-Piles" href="#AGC002-E-Candy-Piles" class="headerlink" title="AGC002 E Candy Piles"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/agc002/tasks/agc002_e">AGC002 E Candy Piles</a></h2><p>打表，发现对角线上的 DP 值是一样的。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/atcoder/agc002_e.cpp">代码</a></p><h2><a id="PE306-Paper-strip-Game" href="#PE306-Paper-strip-Game" class="headerlink" title="PE306 Paper-strip Game"></a><a target="_blank" rel="noopener" href="https://projecteuler.net/problem=306">PE306 Paper-strip Game</a></h2><p>打表，有循环节。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/pe/306.cpp">代码</a></p><h2><a id="SPOJ-COT3-Combat-on-a-tree" href="#SPOJ-COT3-Combat-on-a-tree" class="headerlink" title="SPOJ COT3 - Combat on a tree"></a><a target="_blank" rel="noopener" href="https://www.spoj.com/problems/COT3/">SPOJ COT3 - Combat on a tree</a></h2><p>暴力求 SG 是<script type="math/tex">O(n^3)</script>的。把贡献累计一下可以优化到<script type="math/tex">O(n^2)</script>。</p><p>我们考虑维护子树的策略集，然后向上合并。合并的时候需要做集合异或，合并，线段树（01TRIE）合并即可。复杂度<script type="math/tex">O(n\log_2n)</script>。</p><p>题解详见 <a target="_blank" rel="noopener" href="https://sshwy.name/2018/12/52500/">Sshwy’s Blog 博奕论</a>。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/spoj/cot3.cpp">代码</a></p><h2><a id="CF388-C-Fox-and-Card-Game" href="#CF388-C-Fox-and-Card-Game" class="headerlink" title="CF388 C Fox and Card Game"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/388/problem/C">CF388 C Fox and Card Game</a></h2><p>我们考虑先手的上界。如果后手模仿先手的行为，那么先手可以把每一堆前一半拿走，后手可以把后一半拿走。如果是奇数个数的堆那么中间会剩下一个，这个由谁拿走，我们不好说。但是下界是可以确定的，就是每一堆拿一半。</p><p>另一方面，如果先手可以通过某种方式拿到比一半还多的分，那么后手显然会模仿先手的行为来制止这种情况发生。</p><p>因此，每个人都会各拿一半。至于个数为奇数的堆，在拿完这一堆后，主动权会转移。因此先手显然会贪心地拿奇数堆中中间数最大的那个，然后后手拿第二大的，然后先手拿第三大的……</p><p>于是，我们每一堆各拿一半，把奇数中间的数拿出来排序，然后轮流分给先后手即可。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/codeforces/388/c.cpp">代码</a></p><h2><a id="CF494-E-Sharti" href="#CF494-E-Sharti" class="headerlink" title="CF494 E Sharti"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/494/problem/E">CF494 E Sharti</a></h2><p>根据翻硬币的套路，我们只需要求每个格子单独为白色时的 SG 值的异或和即可。那么打表可以发现：</p><script type="math/tex;mode=display">sg(i,j)=\min(\operatorname{lowbit}(i),\operatorname{lowbit}(j),\operatorname{highbit}(k))</script><p>于是，我们可以每次把<script type="math/tex">k</script>除以 2，矩形的边界也除以 2 并向“内”取整。然后做<script type="math/tex">O(\log_2k)</script>次矩形面积并即可，根据需要来更新答案。</p><p>时间复杂度<script type="math/tex">O(m\log_2n\log_2k)</script>。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/codeforces/494e.cpp">代码</a></p><h2><a id="CF794-E-Choosing-Carrot" href="#CF794-E-Choosing-Carrot" class="headerlink" title="CF794 E Choosing Carrot"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/794/problem/E">CF794 E Choosing Carrot</a></h2><p>首先可以区间 DP，设<script type="math/tex">f(i,j)</script>表示区间<script type="math/tex">[i,j]</script>，先手最大化，后手最小化，最终的值；<script type="math/tex">g(i,j)</script>表示先手最小化，后手最大化，最终的值：</p><script type="math/tex;mode=display">f(i,j)=\max(g(i,j-1),g(i+1,j))\\
g(i,j)=\min(f(i,j-1),f(i+1,j))</script><p>打个表，发现对角线上的数相等，这样是可以做的。</p><p>更严谨地，我们证明当<script type="math/tex">n</script>是偶数时整个序列的答案是<script type="math/tex">\max(a_{\frac{n}{2}},a_{\frac{n}{2}+1})</script>。那么先手只需要根据需要选择一个拿走，然后模仿后手的行为即可。</p><p>当<script type="math/tex">n</script>是奇数的时候，我们相当于做一次 DP 转移，把<script type="math/tex">[1,n-1],[2,n]</script>的结果转移过来。</p><p>这样就证明了对角线相同的结论是对的。然后查询区间 max 即可。</p><p>时间复杂度<script type="math/tex">O(n)</script>。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/codeforces/794e.cpp">代码</a></p><h2><a id="AGC010-F-Tree-Game" href="#AGC010-F-Tree-Game" class="headerlink" title="AGC010 F Tree Game"></a><a target="_blank" rel="noopener" href="https://agc010.contest.atcoder.jp/tasks/agc010_f">AGC010 F Tree Game</a></h2><p>我们把先手选择的第一个点做为根，那么我们可以证明对于结点<script type="math/tex">u</script>：</p><ol><li>如果存在它的儿子结点<script type="math/tex">v</script>满足<script type="math/tex">a_u&gt;a_v</script>且<script type="math/tex">v</script>是必败态，那么<script type="math/tex">u</script>就是必胜态。证明很简单，如果后手想移到<script type="math/tex">u</script>，你把它扔回<script type="math/tex">v</script>即可。</li><li>其他情况，<script type="math/tex">u</script>是必败态。并且当<script type="math/tex">u</script>是叶子时也是必败态。我们可以理解为是先手把后手逼下来的，那么往上走是不优的。如果往下走到<script type="math/tex">w</script>，有两种情况：<script type="math/tex">w</script>是必胜态，或者<script type="math/tex">a_v\le a_w</script>。两种情况都是先手必败，因此得证。</li></ol><p>时间复杂度<script type="math/tex">O(n^2)</script>。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/atcoder/agc010_f.cpp">代码</a></p><h2><a id="CF1110-G-Tree-Tac-Toe" href="#CF1110-G-Tree-Tac-Toe" class="headerlink" title="CF1110 G Tree-Tac-Toe"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1110/problem/G">CF1110 G Tree-Tac-Toe</a></h2><p>首先考虑，把一个预先放有白点的结点变成一个人字结构：</p><p><img src="../../images/game_theory_im1.png" alt="game_therory_im1"></p><p>变成</p><p><img src="../../images/game_theory_im2.png" alt="game_theory_im2"></p><p>这样与原图是等价的。</p><p>考虑先手在 B 放一个白子，那么后手一定会在 D 放。留下的 E 和 F 不会改变先后手的顺序，因此等价。并且先手肯定在一开始就会在 B 放白子。因为不放白不放啊。不然被后手抢了 B，显然对先手不优。于是我们就证明了它与原图是等价的。</p><p>现在就变成了初始时没有白点的树结构。首先，如果存在一个 4 度以上的点，那么先手必胜：</p><p><img src="../../images/game_theory_im3.png" alt="game_theory_im3"></p><p>另外，如果存在一个 3 度点，它的至少两个邻居都是非叶子结点，那么也先手必胜：</p><p><img src="../../images/game_theory_im4.png" alt="game_theory_im4"></p><p>排除上述两种情况，可以发现这个图不可能有超过 2 个 3 度点。在这种情况下考虑一个骨头图：</p><p><img src="../../images/game_theory_im5.png" alt="game_theory_im5"></p><p>这个骨头图可以理解为</p><p><img src="../../images/game_theory_im6.png" alt="game_theory_im6"></p><p>这种状态显然是先手必胜。推广得到，如果骨头图中间的链<strong>长度为奇数</strong>，那么先手必胜。否则就是和局。</p><p>如果整个图只有一个 3 度点或者没有 3 度点，那么显然也是和局。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/codeforces/1110g.cpp">代码</a></p><h2><a id="ZR967-银" href="#ZR967-银" class="headerlink" title="ZR967 银"></a>ZR967 银</h2><p>我们把整个游戏左右翻转，最左边是黑子的条件就变成了最右边是黑子。根据翻硬币的套路，我们只需要求每个棋子单独是黑色时的 SG 值就是答案。</p><p>打表发现，<script type="math/tex">sg(i)=2^{\operatorname{lowbit}(i)}</script>。</p><p>那么我们再构造一个函数<script type="math/tex">f(x)</script>，表示把<script type="math/tex">x</script>的每一位变成它的高位异或和。即<script type="math/tex">f((0001001101)_2)=(0001110110)_2</script>。相当于把<script type="math/tex">x</script>当成一个长度为 30 的数组，然后做后缀异或和。</p><p>不加证明地，有<script type="math/tex">f(0)=0,f(i\oplus j)=f(i)\oplus f(j)</script>，且<script type="math/tex">f</script>可逆（即构建了一个双射）。并且</p><script type="math/tex;mode=display">\bigoplus_{i=1}^nf(sg(i))=n</script><p>那么有了这些结论，再来看题目。设当前局面的 SG 值是<script type="math/tex">X</script>。相当于我们需要找到一个区间<script type="math/tex">[l,r]</script>，满足位置<script type="math/tex">r</script>上的是黑子，且</p><script type="math/tex;mode=display">\bigoplus_{i=l}^rsg(i)=X</script><p>这个条件等价于</p><script type="math/tex;mode=display">\bigoplus_{i=l}^rf(sg(i))=f(X)</script><p>稍作化简就变成了</p><script type="math/tex;mode=display">r\oplus(l-1)=f(X)\\
l-1=f(X)\oplus r</script><p>即对于一个固定的<script type="math/tex">f(X)</script>和<script type="math/tex">r</script>，<script type="math/tex">l-1</script>是唯一的（也可能不存在，因为我们要求<script type="math/tex">l\le r</script>）。思考发现，当且仅当<script type="math/tex">f(X)</script>的最高位在<script type="math/tex">r</script>的二进制下也为 1 的时候，才存在合法的<script type="math/tex">l</script>。</p><p>因此我们的问题变成了：</p><ol><li>插入一个数</li><li>删除一个数</li><li>询问第<script type="math/tex">i</script>位为 1 的数的个数</li></ol><p>数组维护即可。<script type="math/tex">f(X)</script>可以在插入删除的时候顺便维护。</p><p>时间复杂度<script type="math/tex">O((n+m)\log_2n)</script>。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/zroi/2019TG/5/b_db.cpp">打表代码</a></p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/zroi/2019TG/5/b.cpp">代码</a></p><h2><a id="CF1033G" href="#CF1033G" class="headerlink" title="CF1033G"></a>CF1033G</h2><p>取模为什么是对的？首先，新游戏 G’的获胜策略在老游戏下也成立（加一个模仿）。而如果老游戏的获胜策略在新游戏失败，那么在老游戏中后手也可以让它失败。因此新老游戏等价。</p><p>我们强制<script type="math/tex">a&lt;b</script>，那么对于一堆<script type="math/tex">v</script>：</p><ol><li><script type="math/tex">v&lt;a</script>：垃圾</li><li><script type="math/tex">a\le v&lt;b</script>：Alice 胜利</li><li><script type="math/tex">b\le v&lt;2a</script>：一次性用品。</li><li><script type="math/tex">\max(2a,b)\le v&lt;a+b</script>：Alice 先手的大胜利；Bob 的一次性用品。</li></ol><p><img src="../../images/game_theory_im7.png" alt="game_theory_im7"></p><p>考虑只统计先后手获胜的方案数，因为 Alice 获胜与 Bob 获胜是对偶的。我们把上述决策树稍加整理，化简得到</p><p><img src="../../images/game_theory_im8.png" alt="game_theory_im8"></p><p>我们要求不存在 2，设<script type="math/tex">s=a+b</script>。那么<script type="math/tex">v&lt;a</script>或者<script type="math/tex">v\ge s-a</script>。得到</p><script type="math/tex;mode=display">a\ge \min(s-v,v+1)</script><p>我们要记录 3 的个数，即<script type="math/tex">s-a\le v&lt;2a</script>：</p><script type="math/tex;mode=display">a\ge \max\left(s-v,\left\lfloor\frac{v}{2}\right\rfloor+1\right)</script><p>存在 4：</p><script type="math/tex;mode=display">s-v\le a\le \left\lfloor\frac{v}{2}\right\rfloor</script><p>考虑把<script type="math/tex">v_i</script>从小到大排序。那么每次我们只需要统计<script type="math/tex">a\in(v_{i-1},v_i]</script>时的获胜情况。</p><p>首先不存在 2。因此<script type="math/tex">a\ge v_{i-1}+1</script>且<script type="math/tex">a\ge s-v_i</script>。这两个条件把所有<script type="math/tex">v_i</script>是 2 的情况都 ban 掉了。</p><p>在满足上述两个条件后，容易发现<script type="math/tex">v_1\cdots v_{i-1}</script>都是垃圾，不用考虑。</p><p>由于 4 最多出现 1 次，观察 4 的判定条件，发现<script type="math/tex">s-v\le a</script>的条件已经满足了。因此满足<script type="math/tex">a\le \left\lfloor\dfrac{v}{2}\right\rfloor</script>的最多只有一个——由于<script type="math/tex">v_n</script>最大，因此只有<script type="math/tex">v_n</script>有选择权。</p><p>这样，相当于<script type="math/tex">v_i\cdots v_{n-1}</script>都满足<script type="math/tex">\left\lfloor\dfrac{v}{2}\right\rfloor+1\le a</script>。结合 3 的判定条件，发现它们都是 3。这样就可以根据<script type="math/tex">i</script>的奇偶性判断当前是先手胜还是后手胜，然后进行统计。</p><p>对于<script type="math/tex">v_n</script>是否选择 4，分情况讨论即可。在实现的时候也可不必，因为 3,4 的个数和都是奇数，可以直接统计到先手获胜的情况上。</p><p><a target="_blank" rel="noopener" href="https://gitee.com/sshwy/code/raw/master/codeforces/1033g.cpp">代码</a></p></div><hr><h3><span class="iconfont icon-history" style="padding-right:5px;font-size:1em"></span>修订记录</h3><div class="post-history-list"><ol reversed><li class="post-history-item">2019年12月6日 创建文章</li></ol></div><div class="post-footer"><hr><div class="next-post"><span class="iconfont icon-arrow-left-circle"></span> <a href="/IOI2020hw/AGC-part-4/">IOI2020 国家集训队作业小结 4</a></div><div class="prev-post"><a href="/String/String-Improved/">字符串复习与进阶 </a><span class="iconfont icon-arrow-right-circle"></span></div></div></article></main></body><div class="side-button"><div id="comment-button" class="button" title="Valine Comment"><span class="iconfont icon-comment"></span></div><div id="darkmode-button" class="button" title="Switch between day and night"><span class="iconfont icon-moonbyueliang"></span></div><div id="top" class="button" title="Back to top"><span class="iconfont icon-arrowup"></span></div></div><footer id="footer" style="margin:3em 0 2em 0;text-align:center;line-height:1.4em"><span class="post-wordcount iconfont icon-text"></span> 全站约 404,069 字<div class="license" style="padding:0 10px"><span>本站所有文章遵循许可协议 <a target="_blank" rel="license noreferrer noopener" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a></span></div><div class="credit"><span>Themed <a href="https://github.com/sshwy/hexo-theme-essence" target="_blank" rel="noreferrer noopener">Essence v1.9.11</a> | Powered by <a href="http://hexo.io" target="_blank" rel="noreferrer noopener">Hexo</a></span></div><div class="friends"><span class="friend-link-span">友情链接 </span><span class="icon friendsep"></span> <a target="_blank" rel="noopener" href="https://carol-xrl.github.io/"><span class="friend-link-span">Carol </span></a><span class="icon friendsep"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/GavinZheng"><span class="friend-link-span">GavinZheng </span></a><span class="icon friendsep"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/xryjr233"><span class="friend-link-span">xryjr233 </span></a><span class="icon friendsep"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/dysyn1314"><span class="friend-link-span" title="为什么我的头常常变绿？因为…… "><span style="font-weight:700"><span class="codeforces p">dy</span><span class="codeforces m">syn</span><span class="codeforces p">1314</span></span> </span></a><span class="icon friendsep"></span> <a target="_blank" rel="noopener" href="https://blog.aor.sd.cn"><span class="friend-link-span">RainAir </span></a><span class="icon friendsep"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/lcyfrog"><span class="friend-link-span">lcyfrog </span></a><span class="icon friendsep"></span> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/maoyiting"><span class="friend-link-span">/hanx/se</span></a></div><div class="copyright"><span>Copyright &copy; 2019-present - Sshwy</span></div></footer><script src="/js/ssimple.js?20250423.js"></script><script src="https://pv.sohu.com/cityjson?ie=utf-8.js" defer></script></html>